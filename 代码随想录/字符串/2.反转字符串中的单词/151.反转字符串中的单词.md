`难度: 中等`

给你一个字符串`s`，请你反转字符串中`单词`的顺序。

`单词`是由非空格字符组成的字符串。`s`中使用至少一个空格将字符串中的`单词`分隔开。

返回`单词`顺序颠倒且`单词`之间用单个空格连接的结果字符串。

注意：输入字符串`s`中可能会存在前导空格、尾随空格或者单词间的多个空格。返回的结果字符串中，单词间应当仅用单个空格分隔，且不包含任何额外的空格。

1) 示例 1：

- 输入：s = "the sky is blue"
- 输出："blue is sky the"

2) 示例 2：

- 输入：s = "  hello world  "
- 输出："world hello"
- 解释：反转后的字符串中不能存在前导空格和尾随空格。

3) 示例 3：

- 输入：s = "a good   example"
- 输出："example good a"
- 解释：如果两个单词间有多余的空格，反转后的字符串需要将单词间的空格减少到仅有一个。

---

`1. 去除首尾以及中间的多余空格`

```java
// 1. 去除首尾以及中间的多余空格
  private StringBuilder removeSpace(String s){
      int left = 0, right = s.length()-1;
      // 1.将首尾多余空格去除
      while(s.charAt(left) == ' '){
          left++;
      }
      while(s.charAt(right) == ' '){
          right--;
      }
      // 2.创建StringBuilder作为可变字符串String,方便后续查询删改
      StringBuilder sb = new StringBuilder();
      // 3.将单词之间的空格去除
      while(left <= right){
          char c = s.charAt(left);
          // 注意: 1.不是空格 2.是空格, 但是sb最后一个不是空格
          if(c != ' ' || sb.charAt(sb.length()-1) != ' '){
              sb.append(c);
          }
          left++;
      }
      return sb;
  }
```
`StringBuilder数据类型`

**详细介绍请参考Data_structure部分**

---

`2. 反转整个字符串`

```java
// 2. 反转整个字符串
  private void reverseString(StringBuilder sb, int left, int right){
      while(left <= right){
          char temp = sb.charAt(left);
          sb.setCharAt(left, sb.charAt(right));
          sb.setCharAt(right, temp);
          left++;
          right--;
      }
  }
```

---

`3. 反转各个单词`

```java
 // 3. 反转各个单词
  private void reverseEachWord(StringBuilder sb){
      int left = 0;
      while(left <= (sb.length()-1)){
          int right = left;
          // 将right推进到单词最后一个字符的下一位(空格 or 溢出的sb.length())
          while(right < sb.length() && sb.charAt(right) != ' '){
              right++;
          }

          int start = left, end = right-1;
          while(start <= end){
              char temp = sb.charAt(start);
              sb.setCharAt(start, sb.charAt(end));
              sb.setCharAt(end, temp);
              start++;
              end--;
          }
          left = right+1;
      }
  }
```

---

`汇总`

```java
class Solution {
    /**
    不使用Java内置方法实现
    <p>
    1.去除首尾以及中间多余字符
    2.反转整个字符串
    3.反转各个单词
    */
    public String reverseWords(String s) {
        // 1. 去除首尾以及中间的多余空格
        StringBuilder sb = removeSpace(s);
        // 2. 反转整个字符串
        reverseString(sb, 0, sb.length()-1);
        // 3. 反转各个单词
        reverseEachWord(sb);
        return sb.toString();
    }

    // 1. 去除首尾以及中间的多余空格
    private StringBuilder removeSpace(String s){
        int left = 0, right = s.length()-1;
        // 1.将首尾多余空格去除
        while(s.charAt(left) == ' '){
            left++;
        }
        while(s.charAt(right) == ' '){
            right--;
        }
        // 2.创建StringBuilder作为字符串储存容器
        StringBuilder sb = new StringBuilder();
        // 3.将单词之间的空格去除
        while(left <= right){
            char c = s.charAt(left);
            // 注意: 1.不是空格 2.是空格, 但是sb最后一个不是空格
            if(c != ' ' || sb.charAt(sb.length()-1) != ' '){
                sb.append(c);
            }
            left++;
        }
        return sb;
    }

    // 2. 反转整个字符串
    private void reverseString(StringBuilder sb, int left, int right){
        while(left <= right){
            char temp = sb.charAt(left);
            sb.setCharAt(left, sb.charAt(right));
            sb.setCharAt(right, temp);
            left++;
            right--;
        }
    }

    // 3. 反转各个单词
    private void reverseEachWord(StringBuilder sb){
        int left = 0;
        while(left <= (sb.length()-1)){
            int right = left;
            while(right < sb.length() && sb.charAt(right) != ' '){
                right++;
            }

            int start = left, end = right-1;
            while(start <= end){
                char temp = sb.charAt(start);
                sb.setCharAt(start, sb.charAt(end));
                sb.setCharAt(end, temp);
                start++;
                end--;
            }
            left = right+1;
        }
    }
}
```
