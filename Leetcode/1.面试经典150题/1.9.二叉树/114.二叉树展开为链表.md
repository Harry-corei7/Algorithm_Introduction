`难度：中等`

- 给你二叉树的根结点`root`，请你将它展开为一个单链表：
- 展开后的单链表应该同样使用`TreeNode`，其中`right`子指针指向链表中下一个结点，而左子指针始终为`null`。
- 展开后的单链表应该与二叉树**先序遍历**顺序相同。

- 示例 1：
    - 输入：root = [1,2,5,3,4,null,6]
    - 输出：[1,null,2,null,3,null,4,null,5,null,6] 

<img width="1021" height="461" alt="image" src="https://github.com/user-attachments/assets/40b6e78b-1ed6-4260-ad82-12e890c6f5c0" />

- 示例 2：
    - 输入：root = []
    - 输出：[]
- 示例 3：
    - 输入：root = [0]
    - 输出：[0]

---
`python语法-O(1)方法`
- 先找当前节点node的左枝的最右边节点
- 将右枝接在左枝的最右边节点的.right
- 再将左枝接到当前节点node.right
```python
class Solution(object):
    def flatten(self, root):
        """
        :type root: Optional[TreeNode]
        :rtype: None Do not return anything, modify root in-place instead.
        """
        cur = root
        if(cur == None):
            return None
        while(cur != None):
            if(cur.left != None): # 如果当前节点的左节点不为空
                r_cur = cur.left
                while(r_cur.right != None): # 寻找左枝的最右的节点
                    r_cur = r_cur.right
                r_cur.right = cur.right # 将右枝，接在左枝的最右的节点.right
                cur.right = cur.left # 将左枝，接在当前节点.right
                cur.left = None
            cur = cur.right
        return root
```

`python语法-个人理解版`
```python
class Solution(object):
    def preorder(self, node):
        if(node == None):
            return None
        left_tail = self.preorder(node.left) # 递归
        right_tail = self.preorder(node.right) # 递归
        
        if(node.left != None): # 当左枝存在
            node.right = left_tail
            node.left = None
            if(node.right != None): # 当右枝也存在
                cur = node.right # 设指针指向新移植到node右节点位置的左枝(已为单链表形状)
                while(cur.right != None): # 指针移动到单链表形状的左枝的末端节点
                    cur = cur.right
                cur.right = right_tail
        # 当左枝不存在，右枝存在，则无需任何操作
        return node

    def flatten(self, root):
        """
        :type root: Optional[TreeNode]
        :rtype: None Do not return anything, modify root in-place instead.
        """
        self.preorder(root)
        return root
```
