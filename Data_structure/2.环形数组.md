<T> 和 T[] 是 Java 中的泛型（Generics）语法，用于编写通用的、类型安全的代码。
1. <T> 的含义: <T> 是泛型类型参数的声明，表示一个占位符类型。它可以代表任何引用类型（如 String、Integer、自定义类等）。
2. T[] 的含义: T[] 表示一个泛型数组，即数组的元素类型是泛型 T。

**1.成员变量**

---

```java
public class CycleArray<T> {
    private T[] arr;  // 存储数据的数组
    private int start; // 环形数组的起始位置
    private int end;   // 环形数组的结束位置
    private int count; // 当前数组中元素的数量
    private int size;  // 数组的总容量
```

**2.构造方法**

---

```java
public CycleArray() {
    this(1); // 默认容量为 1
}

public CycleArray(int size) {
    this.size = size;
    this.arr = (T[]) new Object[size]; // 初始化数组
    this.start = 0;
    this.end = 0;
    this.count = 0;
}
```

**3.环形数组的核心操作**

-1) 在数组头部添加元素

---

```java
// 在数组头部添加元素，时间复杂度 O(1)
    public void addFirst(T val) {
        // 当数组满时，扩容为原来的两倍
        if (isFull()) {
            resize(size * 2);
        }
        // 因为 start 是闭区间，所以先左移，再赋值
        start = (start - 1 + size) % size;
        arr[start] = val;
        count++;
    }
```

-2) 删除数组头部元素

---

```java
// 删除数组头部元素，时间复杂度 O(1)
    public void removeFirst() {
        if (isEmpty()) {
            throw new IllegalStateException("Array is empty");
        }
        // 因为 start 是闭区间，所以先赋值，再右移
        arr[start] = null;
        start = (start + 1) % size;
        count--;
        // 如果数组元素数量减少到原大小的四分之一，则减小数组大小为一半
        if (count > 0 && count == size / 4) {
            resize(size / 2);
        }
    }
```

-3) 在数组尾部添加元素

---

```java
// 在数组尾部添加元素，时间复杂度 O(1)
    public void addLast(T val) {
        if (isFull()) {
            resize(size * 2);
        }
        // 因为 end 是开区间，所以是先赋值，再右移
        arr[end] = val;
        end = (end + 1) % size;
        count++;
    }
```

-4) 删除数组尾部元素

---

```java
    // 删除数组尾部元素，时间复杂度 O(1)
    public void removeLast() {
        if (isEmpty()) {
            throw new IllegalStateException("Array is empty");
        }
        // 因为 end 是开区间，所以先左移，再赋值
        end = (end - 1 + size) % size;
        arr[end] = null;
        count--;
        // 缩容
        if (count > 0 && count == size / 4) {
            resize(size / 2);
        }
    }
```

-5) 获取数组头部元素

---

```java
public T getFirst() {
        if (isEmpty()) {
            throw new IllegalStateException("Array is empty");
        }
        return arr[start];
    }
```

